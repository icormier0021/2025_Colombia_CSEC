plot = miss_plot,
width = 24,        # increase if needed (in inches)
height = 8,        # height in inches
dpi = 300          # high resolution
)
miss_plot2 <- rawDF %>%
vis_miss(cluster = FALSE, show_perc = FALSE) +  # Set cluster = FALSE
scale_fill_manual(
values = book_colors[c(3, 1)],
labels = c("Present", "Missing"),
name = ""
) +
theme(
plot.margin = margin(5.5, 30, 5.5, 5.5, "pt"),
axis.text.x = element_text(angle = 70, hjust = 1)
)
ggsave(
filename = "missing_data_plot2.png",
plot = miss_plot2,
width = 24,        # increase if needed (in inches)
height = 8,        # height in inches
dpi = 300          # high resolution
)
miss_plot3 <- rawDF %>%
vis_miss(cluster = FALSE, show_perc = FALSE) +
scale_fill_manual(
values = book_colors[c(3, 1)],
labels = c("Present", "Missing"),
name = ""
) +
theme(
plot.margin = margin(5.5, 30, 5.5, 5.5, "pt"),
axis.text.x = element_text(angle = 45, hjust = 1, vjust = 1),  # Try 45 degrees
axis.ticks.x = element_line()  # Ensure ticks are visible
)
ggsave(
filename = "missing_data_plot3.png",
plot = miss_plot,
width = 24,        # increase if needed (in inches)
height = 8,        # height in inches
dpi = 300          # high resolution
)
miss_plot4 <- rawDF %>%
vis_miss(cluster = TRUE, show_perc = FALSE) +
scale_fill_manual(
values = book_colors[c(3, 1)],
labels = c("Present", "Missing"),
name = ""
) +
theme(
plot.margin = margin(5.5, 30, 5.5, 5.5, "pt"),
axis.text.x = element_text(angle = 70, hjust = 1, vjust = 1),
panel.grid.major.x = element_line(color = "white", size = 0.5),  # White lines between columns
panel.grid.minor.x = element_blank()
)
ggsave(
filename = "missing_data_plot4.png",
plot = miss_plot4,
width = 24,        # increase if needed (in inches)
height = 8,        # height in inches
dpi = 300          # high resolution
)
miss_plot <- rawDF %>%
vis_miss(cluster = TRUE, show_perc = FALSE) +
scale_fill_manual(
values = book_colors[c(3, 1)],
labels = c("Present", "Missing"),
name = ""
) +
theme(
plot.margin = margin(5.5, 30, 5.5, 5.5, "pt"),
axis.text.x = element_text(angle = 70, hjust = 1, vjust = 1),
panel.grid.major.x = element_line(color = "white", size = 0.5),  # White lines between columns
panel.grid.minor.x = element_blank()
)
miss_plot <- rawDF %>%
vis_miss(cluster = TRUE, show_perc = FALSE) +
scale_fill_manual(
values = book_colors[c(3, 1)],
labels = c("Present", "Missing"),
name = ""
) +
theme(
plot.margin = margin(5.5, 30, 5.5, 5.5, "pt"),
axis.text.x = element_text(angle = 70, hjust = 1, vjust = 1),
panel.grid.major.x = element_line(color = "white", size = 0.5),  # White lines between columns
panel.grid.minor.x = element_blank()
)
ggsave(
filename = "missing_data_plot.png",
plot = miss_plot,
width = 24,        # increase if needed (in inches)
height = 8,        # height in inches
dpi = 300          # high resolution
)
miss_plot2 <- rawDF %>%
vis_miss(cluster = FALSE, show_perc = FALSE) +  # Set cluster = FALSE
scale_fill_manual(
values = book_colors[c(3, 1)],
labels = c("Present", "Missing"),
name = ""
) +
theme(
plot.margin = margin(5.5, 30, 5.5, 5.5, "pt"),
axis.text.x = element_text(angle = 70, hjust = 1)
)
ggsave(
filename = "missing_data_plot2.png",
plot = miss_plot2,
width = 24,        # increase if needed (in inches)
height = 8,        # height in inches
dpi = 300          # high resolution
)
miss_plot3 <- rawDF %>%
vis_miss(cluster = FALSE, show_perc = FALSE) +
scale_fill_manual(
values = book_colors[c(3, 1)],
labels = c("Present", "Missing"),
name = ""
) +
theme(
plot.margin = margin(5.5, 30, 5.5, 5.5, "pt"),
axis.text.x = element_text(angle = 45, hjust = 1, vjust = 1),  # Try 45 degrees
axis.ticks.x = element_line()  # Ensure ticks are visible
)
ggsave(
filename = "missing_data_plot3.png",
plot = miss_plot3,
width = 24,        # increase if needed (in inches)
height = 8,        # height in inches
dpi = 300          # high resolution
)
miss_plot4 <- rawDF %>%
vis_miss(cluster = TRUE, show_perc = FALSE) +
scale_fill_manual(
values = book_colors[c(3, 1)],
labels = c("Present", "Missing"),
name = ""
) +
theme(
plot.margin = margin(5.5, 30, 5.5, 5.5, "pt"),
axis.text.x = element_text(angle = 70, hjust = 1, vjust = 1),
panel.grid.major.x = element_line(color = "white", size = 0.5),  # White lines between columns
panel.grid.minor.x = element_blank()
)
ggsave(
filename = "missing_data_plot4.png",
plot = miss_plot4,
width = 24,        # increase if needed (in inches)
height = 8,        # height in inches
dpi = 300          # high resolution
)
miss_plot <- rawDF %>%
vis_miss(cluster = TRUE, show_perc = TRUE, show_perc_col = TRUE) +
scale_fill_manual(
values = book_colors[c(3, 1)],
labels = c("Present", "Missing"),
name = ""
) +
theme(
plot.margin = margin(5.5, 30, 5.5, 5.5, "pt"),
axis.text.x = element_text(angle = 70, hjust = 1, vjust = 1),
panel.grid.major.x = element_line(color = "white", size = 0.5),  # White lines between columns
panel.grid.minor.x = element_blank()
)
miss_plot <- rawDF %>%
vis_miss(cluster = TRUE, show_perc = TRUE, show_perc_col = TRUE) +
scale_fill_manual(
values = book_colors[c(3, 1)],
labels = c("Present", "Missing"),
name = ""
) +
theme(
plot.margin = margin(5.5, 30, 5.5, 5.5, "pt"),
axis.text.x = element_text(angle = 70, hjust = 1, vjust = 1),
panel.grid.major.x = element_line(color = "white", size = 0.5),  # White lines between columns
panel.grid.minor.x = element_blank()
)
ggsave(
filename = "missing_data_plot.png",
plot = miss_plot,
width = 24,        # increase if needed (in inches)
height = 8,        # height in inches
dpi = 300          # high resolution
)
ggsave(
filename = "missing_data_plot.png",
plot = miss_plot,
width = 44,        # increase if needed (in inches)
height = 8,        # height in inches
dpi = 300          # high resolution
)
ggsave(
filename = "missing_data_plot.png",
plot = miss_plot,
width = 44,        # increase if needed (in inches)
height = 8,        # height in inches
dpi = 500          # high resolution
)
cat('<div style="
width: 100%;
height: 600px;
overflow-x: scroll;
overflow-y: scroll;
border: 2px solid #ddd;
border-radius: 8px;
padding: 15px;
background-color: #fafafa;
box-shadow: 0 2px 4px rgba(0,0,0,0.1);
">')
selectDF <- rawDF %>%
select(
Sex, H6, H7H, H18, H19, H19A, H20, Q7AA,
Q58, Q306, Q21, Q25, Q35, Q400B)
miss_by_sex <- selectDF %>%
gg_miss_fct(Sex) +
scale_fill_gradientn(
guide = "colorbar",
name = "% Miss",
colors = book_colors[c(3, 2, 1)]
) +
ylab("Variable") +
xlab("Sex") +
ggtitle("Missing Data by Sex")
cat('</div>')
cat('<div style="
width: 100%;
height: 600px;
overflow-x: scroll;
overflow-y: scroll;
border: 2px solid #ddd;
border-radius: 8px;
padding: 15px;
background-color: #fafafa;
box-shadow: 0 2px 4px rgba(0,0,0,0.1);
">')
selectDF <- rawDF %>%
select(
Sex, H6, H7H, H18, H19, H19A, H20, Q7AA,
Q58, Q306, Q21, Q25, Q35, Q400B)
miss_by_sex <- selectDF %>%
gg_miss_fct(Sex) +
scale_fill_gradientn(
guide = "colorbar",
name = "% Miss",
colors = book_colors[c(3, 2, 1)]
) +
ylab("Variable") +
xlab("Sex") +
ggtitle("Missing Data by Sex")
# Save plot as temporary file with exact dimensions
temp_file <- tempfile(fileext = ".png")
ggsave(
filename = temp_file,
plot = miss_by_sex,
width = 20,
height = 6,
dpi = 100
)
cat(paste0('<img src="', temp_file, '" style="display: block; max-width: none; width: 2000px;">'))
cat('</div>')
View(miss_by_sex)
miss_by_sex
View(rawDF)
miss_by_sex <- selectDF %>%
gg_miss_fct(Sex) +
scale_fill_gradientn(
guide = "colorbar",
name = "% Miss",
colors = book_colors[c(3, 2)]
) +
ylab("Variable") +
xlab("Sex") +
ggtitle("Missing Data by Sex")
View(rawDF)
miss_by_sex
miss_by_sex <- selectDF %>%
gg_miss_fct(Sex) +
scale_fill_gradientn(
guide = "colorbar",
name = "% Miss",
colors = book_colors[c(3, 2, 1)]
) +
ylab("Variable") +
xlab("Sex") +
ggtitle("Missing Data by Sex")
miss_by_sex
miss_plot
miss_by_sex
SkimDataRaw <- rawDF %>%
select(- c("VACS_ID","Wght_final","PSU","DEPT","MUNI","HH","USM"))
skim_df_raw <- skim_to_wide(SkimDataRaw)
datatable(
skim_df_raw,
filter  = "top",
options = list(
pageLength = 10,
scrollX    = TRUE,
scrollY    = "400px"
),
rownames = FALSE
)
View(skim_df_raw)
cat('<div style="
width: 100%;
height: 600px;
overflow-x: scroll;
overflow-y: scroll;
border: 2px solid #ddd;
border-radius: 8px;
padding: 15px;
background-color: #fafafa;
box-shadow: 0 2px 4px rgba(0,0,0,0.1);
">')
selectDF <- rawDF %>%
select(
Q2, H6, H7H, H18, H19, H19A, H20, Q7AA,
Q58, Q306, Q21, Q25, Q35, Q400B)
miss_by_sex <- selectDF %>%
gg_miss_fct(Q2) +
scale_fill_gradientn(
guide = "colorbar",
name = "% Miss",
colors = book_colors[c(3, 2, 1)]
) +
ylab("Variable") +
xlab("Age") +
ggtitle("Missing Data by Age")
# Save plot as temporary file with exact dimensions
temp_file <- tempfile(fileext = ".png")
ggsave(
filename = temp_file,
plot = miss_by_age,
width = 20,
height = 6,
dpi = 100
)
cat('<div style="
width: 100%;
height: 600px;
overflow-x: scroll;
overflow-y: scroll;
border: 2px solid #ddd;
border-radius: 8px;
padding: 15px;
background-color: #fafafa;
box-shadow: 0 2px 4px rgba(0,0,0,0.1);
">')
selectDF <- rawDF %>%
select(
Q2, H6, H7H, H18, H19, H19A, H20, Q7AA,
Q58, Q306, Q21, Q25, Q35, Q400B)
miss_by_age <- selectDF %>%
gg_miss_fct(Q2) +
scale_fill_gradientn(
guide = "colorbar",
name = "% Miss",
colors = book_colors[c(3, 2, 1)]
) +
ylab("Variable") +
xlab("Age") +
ggtitle("Missing Data by Age")
# Save plot as temporary file with exact dimensions
temp_file <- tempfile(fileext = ".png")
ggsave(
filename = temp_file,
plot = miss_by_age,
width = 20,
height = 6,
dpi = 100
)
cat(paste0('<img src="', temp_file, '" style="display: block; max-width: none; width: 2000px;">'))
cat('</div>')
miss_by_age
miss_by_sex
miss_by_sex <- selectDF %>%
gg_miss_fct(Sex) +
scale_fill_gradientn(
guide = "colorbar",
name = "% Miss",
colors = book_colors[c(3, 2, 1)]
) +
ylab("Variable") +
xlab("Sex") +
ggtitle("Missing Data by Sex")
selectDF <- rawDF %>%
select(
Sex, H6, H7H, H18, H19, H19A, H20, Q7AA,
Q58, Q306, Q21, Q25, Q35, Q400B)
miss_by_sex <- selectDF %>%
gg_miss_fct(Sex) +
scale_fill_gradientn(
guide = "colorbar",
name = "% Miss",
colors = book_colors[c(3, 2, 1)]
) +
ylab("Variable") +
xlab("Sex") +
ggtitle("Missing Data by Sex")
miss_by_sex
miss_by_age
cat('<div style="
width: 100%;
height: 600px;
overflow-x: scroll;
overflow-y: scroll;
border: 2px solid #ddd;
border-radius: 8px;
padding: 15px;
background-color: #fafafa;
box-shadow: 0 2px 4px rgba(0,0,0,0.1);
">')
selectDF <- rawDF %>%
select(
Sex, H6, H7H, H18, H19, H19A, H20, Q7AA,
Q58, Q306, Q21, Q25, Q35)
miss_by_sex <- selectDF %>%
gg_miss_fct(Sex) +
scale_fill_gradientn(
guide = "colorbar",
name = "% Miss",
colors = book_colors[c(3, 2, 1)]
) +
ylab("Variable") +
xlab("Sex") +
ggtitle("Missing Data by Sex")
# Save plot as temporary file with exact dimensions
temp_file <- tempfile(fileext = ".png")
ggsave(
filename = temp_file,
plot = miss_by_sex,
width = 20,
height = 6,
dpi = 100
)
cat(paste0('<img src="', temp_file, '" style="display: block; max-width: none; width: 2000px;">'))
cat('</div>')
cat('<div style="
width: 100%;
height: 600px;
overflow-x: scroll;
overflow-y: scroll;
border: 2px solid #ddd;
border-radius: 8px;
padding: 15px;
background-color: #fafafa;
box-shadow: 0 2px 4px rgba(0,0,0,0.1);
">')
selectDF <- rawDF %>%
select(
Q2, H6, H7H, H18, H19, H19A, H20, Q7AA,
Q58, Q306, Q21, Q25, Q35, Q400B)
miss_by_age <- selectDF %>%
gg_miss_fct(Q2) +
scale_fill_gradientn(
guide = "colorbar",
name = "% Miss",
colors = book_colors[c(3, 2, 1)]
) +
ylab("Variable") +
xlab("Age") +
ggtitle("Missing Data by Age")
# Save plot as temporary file with exact dimensions
temp_file <- tempfile(fileext = ".png")
ggsave(
filename = temp_file,
plot = miss_by_age,
width = 20,
height = 6,
dpi = 100
)
cat(paste0('<img src="', temp_file, '" style="display: block; max-width: none; width: 2000px;">'))
cat('</div>')
miss_by_sex
miss_by_age
cat('<div style="
width: 100%;
height: 600px;
overflow-x: scroll;
overflow-y: scroll;
border: 2px solid #ddd;
border-radius: 8px;
padding: 15px;
background-color: #fafafa;
box-shadow: 0 2px 4px rgba(0,0,0,0.1);
">')
selectDF <- rawDF %>%
select(
Q2, H6, H7H, H18, H19, H19A, H20, Q7AA,
Q58, Q306, Q21, Q25, Q35)
miss_by_age <- selectDF %>%
gg_miss_fct(Q2) +
scale_fill_gradientn(
guide = "colorbar",
name = "% Miss",
colors = book_colors[c(3, 2, 1)]
) +
ylab("Variable") +
xlab("Age") +
ggtitle("Missing Data by Age")
# Save plot as temporary file with exact dimensions
temp_file <- tempfile(fileext = ".png")
ggsave(
filename = temp_file,
plot = miss_by_age,
width = 20,
height = 6,
dpi = 100
)
cat(paste0('<img src="', temp_file, '" style="display: block; max-width: none; width: 2000px;">'))
cat('</div>')
miss_by_age
